<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Task1claculator</title>
    <link href="calculator.css" ref="styling">
    <script>

        let totcal = 0;
        let totfat = 0;
        let totcho = 0;
        let spnumber = 0;
        class Item {
        constructor(name, quantity, calories, fat, cholestrol) {
            this.name = name;
            this.quantity = quantity/100;
            this.calories = calories;
            this.fat = fat;
            this.cholestrol = cholestrol;
            this.inColumn = false;
        }
        get Name(){
            return this.name;
        }
        calcconsumed() {
            return this.quantity*spnumber;
        }
         
    }
    

        var Items = [];
        function buttonPress(){
        var name = document.getElementById("name").value;
        var quantity = document.getElementById("quantity").value;
        var fat = document.getElementById("fat").value;
        var calories = document.getElementById("calories").value;
        var cholestrol = document.getElementById("cholestrol").value;
        if(name == ""){
            name = "Food";
        }
        if(quantity <= 0 || fat <= 0 || calories <= 0 || cholestrol <= 0) {
            alert("Enter Values Greater Than Zero.");
        } else {
            Items.push(new Item(name, quantity, calories, fat, cholestrol));
            updateSite();
        }
        document.getElementById("name").value = '';
        document.getElementById("quantity").value = '';
        document.getElementById("fat").value = '';
        document.getElementById("calories").value = '';
        document.getElementById("cholestrol").value = '';
        }

        function updateSite() {
            var rightColumn = document.getElementById("rightColumn");
        
            for(j in Items) {
            var i = Items[j];
            
            if(i.inColumn === false) {
                var card = document.createElement("div");
                card.id = "card" + j;
                card.className = "card";
                var cardBody = document.createElement("div");
                cardBody.className = "card-body";
        
                var cardTitle = document.createElement("h5");
                cardTitle.className = "card-title";
                cardTitle.innerHTML = i.Name;
                var cardText = document.createElement("p");
                cardText.className = "card-text";
                cardText.innerHTML = i.totfat + "g of fat";
                cardBody.appendChild(cardTitle);
                cardBody.appendChild(cardText);
                cardText.innerHTML = i.totcal + "g of calories";
                cardBody.appendChild(cardTitle);
                cardBody.appendChild(cardText);
                cardText.innerHTML = i.totcho + "g of cholestrol";
                cardBody.appendChild(cardTitle);
                cardBody.appendChild(cardText);
                
        
                card.appendChild(cardBody);
                rightColumn.appendChild(card);
        
                i.inColumn = true;
            }
            spnumber=i.calories;
            totcal += i.calcconsumed();
            spnumber=i.fat;
            totfat += i.calcconsumed();
            spnumber=i.cholestrol;
            totcho += i.calcconsumed();
            console.log(totcal);console.log(totfat);console.log(totcho);
            }
        
        }

    </script>
    <div class="bar" id="myNavbar">
            <a href="index.html" class="bar-item button">HOME</a>
            <a href="bmi.html" class="bar-item button hide-small"> BMI</a>
            <a href="calculator.html" class="bar-item button hide-small"> NUTRITION CALCULATOR</a>
    </div>
</head>
<body>
        <div class="container bg-light">
                <h1 id="main-heading">Nutrition Calculator</h1>
                <br>
                <div class="row justify-content-center">
                  <div class="col col-lg-7">
                    <h3>Add food material consumed</h3>
                    <div class="form-row"  >
                        <label for="name">Name of the dish</label>
                        <input type="text" id="name" class="form-control form-group">
                        <label for="quatity">Quatity in g</label>
                        <input type="number" id="quantity" class="form-control form-group">
                        <label for="calories">Calories Per 100g</label>
                        <input type="number" id="calories" class="form-control form-group">
                        <label for="fat">Fat per 100g</label>
                        <input type="number" id="fat" class="form-control form-group">
                        <label for="cholestrol">cholestrol per 100g</label>
                        <input type="number" id="cholestrol" class="form-control form-group">
                    </div>
                    <button class ="btn btn-primary" type="submit" onclick="buttonPress()">Add</button>
                    <div id="rightColumn" class="col col-lg-4">
                            <h3 id="elec-a">Your Consumption</h3>
                            <hr>
                          </div>
</body>
</html>